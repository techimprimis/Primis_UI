<header class="header">
      <div class="container">
        <h1>TechImprimis</h1>

        <div class="header-actions">
          <button class="theme-toggle" (click)="theme.toggleTheme()">
            {{ theme.isDarkMode() ? '‚òÄÔ∏è' : 'üåô' }}
          </button>

           <!-- Logout button, only visible if logged in -->
          @if (authService.isLoggedIn()) {
            <div class="user-menu" (click)="toggleMenu()">
              <span class="avatar">üë§</span>

              <div class="user-info">
                <span class="name">{{ userName() }}</span>
                <span class="role">{{ userRole() }}</span>
              </div>

              @if (menuOpen) {
                <div class="dropdown" (click)="$event.stopPropagation()">
                  <button class="dropdown-item">Profile</button>
                  <button class="dropdown-item logout" (click)="logout()">
                    Logout
                  </button>
                </div>
              }
            </div>
          }
        </div>
      </div>
    </header>

    <main class="main-content">
      <router-outlet></router-outlet>
    </main>